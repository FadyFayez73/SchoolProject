services:
  - type: web
    name: schoolProject
    env: dotnet
    region: frankfurt
    plan: free
    branch: main
    rootDir: API
    buildCommand: dotnet publish -c Release -o out
    startCommand: dotnet out/API.dll
    envVars:
      - key: ConnectionStrings__DefaultConnection
        fromDatabase:
          name: school-db
          property: connectionString

databases:
  - name: school-db
    plan: free
    region: frankfurt
    postgresMajorVersion: 15
